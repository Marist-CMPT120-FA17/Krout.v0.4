<!DOCTYPE html>
<html>
<!-- Ian Krout
		 10/1/17
		 Assignment 3 -->

<head>
    <title>
        Donnelly Hall Adventure
    </title>

    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <script type="text/javascript">
        //Score and location visits
        var score = 0;
        var currentLoc = 0;

        var VisitedLoc0 = 0;
        var VisitedLoc1 = 0;
        var VisitedLoc2 = 0;
        var VisitedLoc3 = 0;
        var VisitedLoc4 = 0;
        var VisitedLoc5 = 0;
        var VisitedLoc6 = 0;

        function init() {
            look();
        }

        function btnEnter_click() {
            var userText = document.getElementById("txtCommand").value;
            var response = "";
            if (userText === "N") {
                response = btnNorth()
            } else {
                if (userText === "S") {
                    response = btnSouth()
                } else {
                    if (userText === "E") {
                        response = btnEast()
                    } else {
                        if (userText === "W") {
                            response = btnWest()
                        } else {
                            alert("Valid commands are N,S,E,W");
                        }
                    }
                }
            }
        }

        //North
        function btnNorth() {
            if (currentLoc === 0) {
                currentLoc = 1;
                look();
                document.getElementById("btnEast").disabled = true;
                document.getElementById("btnWest").disabled = true;
                document.getElementById("btnSouth").disabled = false;
                document.getElementById("btnNorth").disabled = false;
            } else {
                if (currentLoc === 1) {
                    currentLoc = 2;
                    look();
                    document.getElementById("btnEast").disabled = true;
                    document.getElementById("btnWest").disabled = true;
                    document.getElementById("btnSouth").disabled = false;
                    document.getElementById("btnNorth").disabled = true;
                } else {
                    if (currentLoc === 4) {
                        currentLoc = 0;
                        look();
                        document.getElementById("btnEast").disabled = false;
                        document.getElementById("btnWest").disabled = false;
                        document.getElementById("btnSouth").disabled = false;
                        document.getElementById("btnNorth").disabled = false;
                    }
                }
            }
            look();
        }
        //South
        function btnSouth() {
            if (currentLoc === 2) {
                currentLoc = 1;
                look();
                document.getElementById("btnEast").disabled = true;
                document.getElementById("btnWest").disabled = true;
                document.getElementById("btnSouth").disabled = false;
                document.getElementById("btnNorth").disabled = false;
            } else {
                if (currentLoc === 1) {
                    currentLoc = 0;
                    look();
                    document.getElementById("btnEast").disabled = false;
                    document.getElementById("btnWest").disabled = false;
                    document.getElementById("btnSouth").disabled = false;
                    document.getElementById("btnNorth").disabled = false;
                } else {
                    if (currentLoc === 0) {
                        currentLoc = 4;
                        look();
                        document.getElementById("btnEast").disabled = true;
                        document.getElementById("btnWest").disabled = true;
                        document.getElementById("btnSouth").disabled = true;
                        document.getElementById("btnNorth").disabled = false;
                    }
                }
            }
            look();
        }

        //East
        function btnEast() {
            if (currentLoc === 0) {
                currentLoc = 3;
                look();
                document.getElementById("btnEast").disabled = false;
                document.getElementById("btnWest").disabled = false;
                document.getElementById("btnSouth").disabled = true;
                document.getElementById("btnNorth").disabled = true;
            } else {
                if (currentLoc === 3) {
                    currentLoc = 7;
                    look();
                    document.getElementById("btnEast").disabled = false;
                    document.getElementById("btnWest").disabled = false;
                    document.getElementById("btnSouth").disabled = true;
                    document.getElementById("btnNorth").disabled = true;
                } else {
                    if (currentLoc === 7) {
                        currentLoc = 8;
                        look();
                        document.getElementById("btnEast").disabled = true;
                        document.getElementById("btnWest").disabled = false;
                        document.getElementById("btnSouth").disabled = true;
                        document.getElementById("btnNorth").disabled = true;
                    } else {
                        if (currentLoc === 5) {
                            currentLoc = 0;
                            look();
                            document.getElementById("btnEast").disabled = false;
                            document.getElementById("btnWest").disabled = false;
                            document.getElementById("btnSouth").disabled = false;
                            document.getElementById("btnNorth").disabled = false;

                        }
                    }
                }
            }
            look();
        }
        //West
        function btnWest() {
            if (currentLoc === 0) {
                currentLoc = 5;
                look();
                document.getElementById("btnEast").disabled = false;
                document.getElementById("btnWest").disabled = false;
                document.getElementById("btnSouth").disabled = true;
                document.getElementById("btnNorth").disabled = true;
            } else {
                if (currentLoc === 5) {
                    currentLoc = 6;
                    look();
                    document.getElementById("btnEast").disabled = true;
                    document.getElementById("btnWest").disabled = true;
                    document.getElementById("btnSouth").disabled = true;
                    document.getElementById("btnNorth").disabled = true;
                } else {
                    if (currentLoc === 3) {
                        currentLoc = 0;
                        look();
                        document.getElementById("btnEast").disabled = false;
                        document.getElementById("btnWest").disabled = false;
                        document.getElementById("btnSouth").disabled = false;
                        document.getElementById("btnNorth").disabled = false;
                    } else {
                        if (currentLoc === 7) {
                            currentLoc = 3;
                            look();
                            document.getElementById("btnEast").disabled = false;
                            document.getElementById("btnWest").disabled = false;
                            document.getElementById("btnSouth").disabled = true;
                            document.getElementById("btnNorth").disabled = true;
                        } else {
                            if (currentLoc === 8) {
                                currentLoc = 7;
                                look();
                                document.getElementById("btnEast").disabled = false;
                                document.getElementById("btnWest").disabled = false;
                                document.getElementById("btnSouth").disabled = true;
                                document.getElementById("btnNorth").disabled = true;
                            }
                        }
                    }
                }
            }

            look();
        }


        function look() {
            var desc = "";
            switch (currentLoc) {
                case 0:
                    desc = "You enter Donnelly Hall in a panic realizing your dog, Donnelly, has gotten loose and made his way to his favorite building. You must find him!";
                    break;
                case 1:
                    desc = "You are at security, they say they saw your dog but can't say where he is for sure since its a circular building...";
                    break;
                case 2:
                    desc = " You rush to the back room to check the security cameras and see your dog running in circles";
                    break;
                case 3:
                    desc = " You are the fashion lab and see nothing but clothes.";
                    break;
                case 4:
                    desc = "You leave the building. Try again.";
                    break;
                case 5:
                    desc = "You head down to the chemistry lab and hear barking";
                    break;
                case 6:
                    desc = "Donnelly! You found your dog, sitting by the bathroom.";
                    break;
                case 7:
                    desc = "You are at the DN Cafe, maybe Donnelly was attracted to the food?";
                    break;
                case 8:
                    desc = "Nothing but subs in here...";
                    break;
                case 9:
                    desc = "Valid commands are N,S,E,W"
            }
            UpdateDisplay(desc);
        }

        function UpdateDisplay(msg) {
            var target = document.getElementById("maintext");
            target.value = msg + "\n\n" + target.value;
        }
    </script>
    <style>
        .footer {
            color: purple;
            font-weight: bold;
        }
    </style>
</head>

<body>
    <h1>
        The Race to Save Donnelly
    </h1>
    <h2>
        By: Ian Krout
    </h2>
    <textarea rows="5" cols="44" id="maintext" name="maintext"> You enter Donnelly Hall in a panic realizing your dog, Donnelly, has gotten loose and made his way to his favorite building. You must find him!
      </textarea>
    <textarea rows="2" cols="10" id="scorebox" name="scorebox"> Score </textarea>
    <br />

    <input type="button" id="btnNorth" name="btnNorth" value="North" onclick="btnNorth();" />

    <input type="button" id="btnSouth" name="btnSouth" value="South" onclick="btnSouth();" />

    <input type="button" id="btnEast" name="btnEast" value="East" onclick="btnEast();" />

    <input type="button" id="btnWest" name="btnWest" value="West" onclick="btnWest();" />

    <input type="text" id="txtCommand" name="txtCommand">
    <input type="button" value="enter" onclick="btnEnter_click();" />


    <p class="footer">
        Questions sent to <a href="mailto:krout.ian@gmail.com"> Ian Krout </a>
    </p>
</body>

</html>